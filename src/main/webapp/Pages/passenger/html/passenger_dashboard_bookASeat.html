<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Book a Seat</title>
    <link rel="stylesheet" type="text/css" href="../css/passenger_dashboard_bookASeat.css">
    <link rel="icon" type="image/x-icon" href="../../../images/favicon/favicon.png">
</head>
<body>
<div class="dashboard">
    <div class="overlay" id="overlay"></div>
    <div class="sidebar">
        <div class="site_logo">
            <img src="../../../images/logo.png" alt="site_logo" class="site_logo_img">
            <p class="site_logo_caption">Your Ticket to a Smooth Travel</p>
        </div>
        <div>
            <div class="empty"></div>
            <div class="sidebar_element">
                <a href="./passenger_dashboard_home.html"><img src="../../../images/vector_icons/home.png" alt="home" class="sidebar_img"></a>
                <a href="./passenger_dashboard_home.html">Home</a>
            </div>
            <div class="sidebar_element">
                <a href="./passenger_dashboard_aboutMe.html"><img src="../../../images/vector_icons/aboutMe.png" alt="about_me" class="sidebar_img"></a>
                <a href="./passenger_dashboard_aboutMe.html">About Me</a>
            </div>
            <div class="sidebar_element">
                <a href="./passenger_dashboard_myBookings.html"><img src="../../../images/vector_icons/myBookings.png" alt="my_bookings" class="sidebar_img"></a>
                <a href="./passenger_dashboard_myBookings.html">My Bookings</a>
            </div>
            <div class="sidebar_element_main">
                <a href="./passenger_dashboard_bookASeat.html"><img src="../../../images/vector_icons/bookASeat.png" alt="book_a_seat" class="sidebar_img"></a>
                <a href="./passenger_dashboard_bookASeat.html"> Book a Seat</a>
            </div>
        </div>
    </div>
    <div class="seat_selection" id="seat_selection">
        <div>
            <div>
                <div class="seat" style="background-color: #b3b3b3"></div>
                <h4>Available</h4>
            </div>
            <div>
                <div class="seat" style="background-color: #5cb85c"></div>
                <h4>Selected</h4>
            </div>
            <div>
                <div class="seat" style="background-color: #ff0000"></div>
                <h4>Booked</h4>
            </div>
        </div>
        <div class="seat_map">
            <h1 >Select Seats</h1>
            <div id="seat-map"></div>
        </div>
        <div id="booking-details">
            <h1>Booking Details</h1>
            <h3>Route: <span id="seat_selection_route"></span></h3>
            <h3>Date: <span id="seat_selection_date"></span></h3>
            <h3>Time: <span id="seat_selection_time"></span></h3>
            <h3>Available seats: <span id="seat_selection_seat_count"></span></h3>
            <h3>Price per seat: <span id="seat_selection_price"></span></h3>
            <p>Selected Seats: <span id="selected-seats">None</span></p>
            <p>Total Price: Rs.<span id="total-price">0</span></p>
            <div style="display: flex; flex-direction: row; gap:10px">
                <button class="button" onclick="closeSeatSelection()">Cancel</button>
                <button class="button" onclick="payment()">Pay Now</button>
            </div>
        </div>
    </div>
    <div id="paymentContainer" class="paymentContainer">
        <div id="schedule">
            <h1>Booking Details</h1>
            <h3>Selected Seat/Seats: <span id="selected-seats-payment"></span></h3>
            <h3>Total Price: Rs.<span id="total-price-payment"></span></h3>
            <div style="border: 1px solid #cccccc; padding: 15px;">
                <p style="color: black; margin: 0; padding: 0;">
                    <span style="color: #ff0006">Please note: If you need to cancel or update your booking, it must be done before three hours from the departure time.</span>
                    <br>If you delete before:
                    <br>- 3 hours: No charge
                    <br>- 2 hours: 1% charge
                    <br>- 1 hour: 5% charge
                    <br>- Not checked in: 100% charge
                </p>
                <label for="declaration">
                    <input type="checkbox" id="declaration"> I agree with it
                </label>
            </div>

        </div>
        <div id="vertical-line"></div>
        <div id="payment">
            <h1>Payment Details</h1>
            <div>
                <div class="form-group">
                    <label>Card Type<span class="required">*</span></label>
                    <div class="cardOptions">
                        <div class="cardOption">
                            <input type="radio" name="cardType" id="visaCard">
                            <label for="visaCard" class="cardOptionVisa"></label>
                            <img src="../../../images/cardImages/visaCard.png" class="cardImg" alt="Visa">
                        </div>
                        <div class="cardOption">
                            <input type="radio" name="cardType" id="masterCard">
                            <label for="masterCard" class="cardOptionMaster"></label>
                            <img src="../../../images/cardImages/masterCard.png" class="cardImg" alt="MasterCard">
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <label for="cardNo">Card Number<span class="required">*</span></label>
                    <input type="number" name="cardNo" id="cardNo" class="form-control" placeholder="XXXXXXXXXXXXXXXX" required>
                </div>
                <div class="form-parallel">
                    <div class="form-group">
                        <label for="expMonth">Expiration Month<span class="required">*</span></label>
                        <input type="number" name="expMonth" id="expMonth" class="form-control" placeholder="MM" required>
                    </div>
                    <div class="form-group">
                        <label for="expYear">Expiration Year<span class="required">*</span></label>
                        <input type="number" name="expYear" id="expYear" class="form-control" placeholder="YY" required>
                    </div>
                </div>
                <div class="form-group">
                    <label for="cvn">CVN<span class="required">*</span></label>
                    <input type="number" name="cvn" id="cvn" class="form-control" placeholder="XXX" required>
                </div>
            </div>
            <div class="button_group">
                <button class="button" onclick="closePayment()">Back</button>
                <button class="button" onclick="openConfirmAlert()">Pay Now</button>
            </div>
        </div>
    </div>
    <div class="alertBody" id="confirmationAlert">
        <img src="../../../images/Alert_icons/Payment_icon.png" class="alertImg" alt="confirm">
        <div class="alertMsgSuccess" id="confirmationMsg"></div>
        <button class="okButton" onclick="closeConfirmAlert()" style="margin-right: 20px">Cancel</button>
        <button class="okButton" onclick="pay()">Yes</button>
    </div>
    <div class="alertBody" id="alertSuccess">
        <img src="../../../images/Alert_icons/Success_icon.png" class="alertImg" alt="success">
        <div class="alertMsgSuccess" id="alertMsgSuccess"></div>
        <button class="okButton" onclick="closeAlert()">Ok</button>
    </div>
    <div class="alertBody" id="alertFail">
        <img src="../../../images/Alert_icons/Error_icon.png" class="alertImg" alt="fail">
        <div class="alertMsgFail" id="alertMsg"></div>
        <button class="okButton" onclick="closeAlert()">Ok</button>
    </div>
    <div class="content_container">
        <div class="navbar">
            <div class="page_name">
                <h1>Book a Seat</h1>
            </div>
            <div class="user_profile">
                <h3>Username</h3>
                <img src="../../../images/vector_icons/user.png" alt="userimage" class="user_img">
            </div>
        </div>
        <div class="body_content">
            <div class="functions">
                <div class="search_box">
                    <div>
                        <label>
                            <select id="dropdown_start">
                                <option value="" disabled selected>From</option>
                            </select>
                        </label>
                    </div>
                </div>
                <div class="search_box" >
                    <div>
                        <label>
                            <select id="dropdown_destination">
                                <option value="" disabled selected>To</option>
                            </select>
                        </label>
                    </div>
                </div>
                <div class="search_box">
                    <label for="datePicker"></label><input type="date" id="datePicker">
                </div>
                <div class="search_box">
                    <label for="startTimePicker">Start time From</label>
                    <input type="time" id="startTimePicker">
                </div>
                <div class="search_box" style="gap: 10px">
                    <label for="endTimePicker">Start time To</label>
                    <input type="time" id="endTimePicker">
                </div>
                <div class="search_box">
                    <button class="button" onclick="searchData()">Search</button>
                    <svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24" onclick="refreshPage()" style="margin-top: 12px"><path d="M0 0h24v24H0z" fill="none"/><path d="M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"/></svg>
                </div>
            </div>
            <div class="schedule_list" id="schedule_list">

            </div>
            <div id="page_control">
                <span id="prevPageIcon" onclick="changePage(currentPage - 1)"><img class="arrow_img" src="../../../images/vector_icons/arrow_left.png" alt="arrow_left"></span>
                <span id="currentPageNumber" class="currentPageNumber">1</span>
                <span class="currentPageNumber">/</span>
                <span id="noOfPages" class="currentPageNumber">1</span>
                <span id="nextPageIcon" onclick="changePage(currentPage + 1)"> <img class="arrow_img" src="../../../images/vector_icons/arrow_right.png" alt="arrow_right"></span>
            </div>
        </div>
    </div>
    <div id="loading-spinner" >
        <div class="spinner"></div>
    </div>

</div>
<script src="../../../js/url.js"></script>
<script src="../../../js/auth.js"></script>
<script src="../js/passenger_dashboard_bookASeat.js"></script>
</body>
</html>










