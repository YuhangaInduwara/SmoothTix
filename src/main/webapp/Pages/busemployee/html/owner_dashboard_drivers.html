<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SmoothTix</title>
    <link rel="icon" type="image/x-icon" href="../../../images/favicon/favicon.png">
    <link rel="stylesheet" type="text/css" href="../css/owner_dashboard_drivers.css">
</head>
<body>
<div class="dashboard">
    <div class="sidebar">
        <div class="site_logo">
            <img src="../../../images/logo.png" alt="site_logo" class="site_logo_img">
            <p class="site_logo_caption">Your Ticket to a Smooth Travel</p>
        </div>
        <div>
            <div class="sidebar_element">
                <a href="./owner_dashboard_home.html"><img src="../../../images/vector_icons/home.png" alt="home" class="sidebar_img"></a>
                <a href="./owner_dashboard_home.html">Home</a>
            </div>
            <div class="sidebar_element">
                <a href="owner_dashboard_bus.html"><img src="../../../images/vector_icons/bus.png" alt="bus" class="sidebar_img"></a>
                <a href="owner_dashboard_bus.html">Buses</a>
            </div>
            <div class="sidebar_element">
                <a href="owner_dashboard_busprofile.html"><img src="../../../images/vector_icons/user.png" alt="Bus_profile" class="sidebar_img"></a>
                <a href="owner_dashboard_busprofile.html">Bus Profile</a>
            </div>
            <div class="sidebar_element_main">
                <a href="./owner_dashboard_drivers.html"><img src="../../../images/vector_icons/driver.png" alt="driver" class="sidebar_img"></a>
                <a href="./owner_dashboard_drivers.html">Driver</a>
            </div>
            <div class="sidebar_element">
                <a href="./owner_dashboard_conductor.html"><img src="../../../images/vector_icons/conductor.png" alt="conductor" class="sidebar_img"></a>
                <a href="./owner_dashboard_conductor.html">Conductor</a>
            </div>
            <div class="sidebar_element">
                <a href="./owner_dashboard_report.html"><img src="../../../images/vector_icons/report.png" alt="report" class="sidebar_img"></a>
                <a href="./owner_dashboard_report.html">Reports</a>
            </div>
            <div class="sidebar_element">
                <a href="./owner_dashboard_ratings.html"><img src="../../../images/vector_icons/review.png" alt="ratings" class="sidebar_img"></a>
                <a href="./owner_dashboard_ratings.html">Ratings</a>
            </div>
            <div class="sidebar_element">
                <a href="../../passenger/html/passenger_dashboard_home.html"><img src="../../../images/vector_icons/login.png" alt="login" class="sidebar_img"></a>
                <a href="../../passenger/html/passenger_dashboard_home.html">Login as a Passenger</a>
            </div>
            <div class="sidebar_element">
                <a href="../../login/html/login.html" onclick="logout(); return false;"><img src="../../../images/vector_icons/logout.png" alt="logout" class="sidebar_img"></a>
                <button id="logoutButton" style="background: none; border: none; padding: 0; text-decoration: none; cursor: pointer;" ><a href="" onclick="logout(); return false;">Logout</a></button>
            </div>
        </div>
    </div>
    <div class="content_container">
        <div class="navbar">
            <div class="page_name">
                <h1>Drivers</h1>
            </div>
            <div class="user_profile">
                <h3 id="userName">Username</h3>
                <img src="../../../images/vector_icons/owner_avatar.png" alt="userimage" class="user_img">
            </div>
        </div>
        <div class="body_content">
            <div class="functions">
                <div class="add-new">
                    <button class="add-new-button" onclick="openForm_add()">Add Driver</button>
                </div>
                <div class="overlay" id="overlay"></div>
                <div class="body_content">
                    <div class="form">
                        <form class="driver_form" id="driverRegForm">
                            <div class="driver_form_header">
                                <h2>Add New Driver</h2>
                            </div>
                            <div id="formContainer_add"></div>
                            <div id="autocomplete-container1"></div>
                            <div class="driver_form_footer">
                                <button type="button" class="driver_form_button" onclick="closeForm_add()">Close</button>
                                <input type="submit" class="driver_form_button" value="Add" id="driverRegFormSubmit">
                            </div>
                        </form>
                    </div>
                    <div class="form">
                        <form class="driver_form" id="driverUpdateForm">
                            <div class="driver_form_header">
                                <h2>Update <span id="header_driver_id"></span> Details</h2>
                            </div>
                            <div id="formContainer_update"></div>
                            <div class="driver_form_footer">
                                <button type="button" class="driver_form_button" onclick="closeForm_update()">Close</button>
                                <input type="submit" class="driver_form_button" value="Update">
                            </div>
                        </form>
                    </div>
                    <div class="alertBody" id="successAlert">
                        <img src="../../../images/Alert_icons/Success_icon.png" class="alertImg" alt="success">
                        <div class="alertMsgSuccess"  id="alertMsgSuccess"></div>
                        <button class="okButton" onclick="closeAlertSuccess()">Ok</button>
                    </div>
                    <div class="alertBody" id="failAlert">
                        <img src="../../../images/Alert_icons/Error_icon.png" class="alertImg" alt="fail">
                        <div class="alertMsgFail" id="failMsg"></div>
                        <button class="okButton" onclick="closeAlertFail()">Ok</button>
                    </div>
                </div>
                <div class="search_box">
                    <div class="search" style="margin-right: 10px">
                        <label>
                            <select class="search_input" id="searchSelect">
                                <option value="" disabled selected>Search by</option>
                                <option value="driver_id">Driver ID</option>
                                <option value="license_no">Driving license No.</option>
                            </select>
                        </label>
                    </div>
                    <div class="search">
                        <label>
                            <input class="search_input" type="text" placeholder="Search" id="searchInput">
                        </label>
                        <button id="searchButton" onclick="searchData()">
                            <img src="../../../images/vector_icons/search_icon.png" alt="Search" class="search_img">
                        </button>
                    </div>
                    <svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24" onclick="refreshPage()" style="margin-top: 5px"><path d="M0 0h24v24H0z" fill="none"/><path d="M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"/></svg>
                </div>
            </div>
            <div>
                <table id="dataTable" class="driver_table">
                    <thead>
                    <tr>
                        <th>Driver ID</th>
                        <th>Driving license No.</th>
                        <th>Name</th>
                        <th>NIC</th>
                        <th>Email</th>
                        <th>Review Points</th>
                        <th>Actions</th>
                    </tr>
                    </thead>
                    <tbody>

                    </tbody>
                </table>
                <div id="page_control">
                    <span id="prevPageIcon" onclick="changePage(currentPage - 1)"><img class="arrow_img" src="../../../images/vector_icons/arrow_left.png" alt="arrow_left"></span>
                    <span id="currentPageNumber" class="currentPageNumber">1</span>
                    <span id="nextPageIcon" onclick="changePage(currentPage + 1)"> <img class="arrow_img" src="../../../images/vector_icons/arrow_right.png" alt="arrow_right"></span>
                </div>
                <div class="alertBody" id="confirmAlert">
                    <img src="../../../images/Alert_icons/Alert_icon.png" class="alertImg" alt="confirm">
                    <div class="alertMsgSuccess" style="color: #ff0202">Are you sure to delete: <span id="deleteUser"></span>?</div>
                    <button class="okButton" onclick="closeAlert()" style="margin-right: 20px">Cancel</button>
                    <button class="okButton" onclick="deleteRow()" >Yes</button>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="../../../js/url.js"></script>
<script src="../../../js/auth.js"></script>
<script src="../js/owner_dashboard_drivers.js"></script>
</body>
</html>